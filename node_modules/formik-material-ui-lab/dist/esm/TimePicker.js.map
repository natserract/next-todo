{"version":3,"file":"TimePicker.js","sources":["../../src/TimePicker.tsx"],"sourcesContent":["import MuiTimePicker, {\n  TimePickerProps as MuiTimePickerProps,\n} from '@mui/lab/TimePicker';\nimport TextField, { TextFieldProps } from '@mui/material/TextField';\nimport { FieldProps, getIn } from 'formik';\nimport * as React from 'react';\nimport { createErrorHandler } from './errorHandler';\n\nexport interface TimePickerProps\n  extends FieldProps,\n    Omit<MuiTimePickerProps, 'name' | 'value' | 'error'> {\n  textField?: TextFieldProps;\n}\n\nexport function fieldToTimePicker({\n  field: { onChange: _onChange, onBlur: fieldOnBlur, ...field },\n  form: {\n    isSubmitting,\n    touched,\n    errors,\n    setFieldValue,\n    setFieldError,\n    setFieldTouched,\n  },\n  textField: { helperText, onBlur, ...textField } = {},\n  disabled,\n  label,\n  onChange,\n  onError,\n  renderInput,\n  ...props\n}: TimePickerProps): MuiTimePickerProps {\n  const fieldError = getIn(errors, field.name);\n  const showError = getIn(touched, field.name) && !!fieldError;\n\n  return {\n    renderInput:\n      renderInput ??\n      ((params) => (\n        <TextField\n          {...params}\n          error={showError}\n          helperText={showError ? fieldError : helperText}\n          label={label}\n          onBlur={\n            onBlur ??\n            function () {\n              setFieldTouched(field.name, true, true);\n            }\n          }\n          {...textField}\n        />\n      )),\n    disabled: disabled ?? isSubmitting,\n    onChange:\n      onChange ??\n      function (date) {\n        // Do not switch this order, otherwise you might cause a race condition\n        // See https://github.com/formium/formik/issues/2083#issuecomment-884831583\n        setFieldTouched(field.name, true, false);\n        setFieldValue(field.name, date, true);\n      },\n    onError:\n      onError ?? createErrorHandler(fieldError, field.name, setFieldError),\n    ...field,\n    ...props,\n  };\n}\n\nexport function TimePicker({ children, ...props }: TimePickerProps) {\n  return (\n    <MuiTimePicker {...fieldToTimePicker(props)}>{children}</MuiTimePicker>\n  );\n}\n\nTimePicker.displayName = 'FormikMUITimePicker';\n"],"names":[],"mappings":";;;;;;;SAcgB,iBAAiB,CAAC,EAiBhB;QAhBhB,aAA6D,aAAjC,WAAqB,MAAK,KAAK,cAApD,sBAAsD,CAAF,EAC3D,YAOC,EANC,YAAY,kBAAA,EACZ,OAAO,aAAA,EACP,MAAM,YAAA,EACN,aAAa,mBAAA,EACb,aAAa,mBAAA,EACb,eAAe,qBAAA,EAEjB,iBAAoD,EAApD,qBAAkD,EAAE,KAAA,EAAvC,UAAU,gBAAA,EAAE,MAAM,YAAA,EAAK,SAAS,cAAlC,wBAAoC,CAAF,EAC7C,QAAQ,cAAA,EACR,KAAK,WAAA,EACL,QAAQ,cAAA,EACR,OAAO,aAAA,EACP,WAAW,iBAAA,EACR,KAAK,cAhBwB,yFAiBjC;IACC,IAAM,UAAU,GAAG,KAAK,CAAC,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,CAAC;IAC7C,IAAM,SAAS,GAAG,KAAK,CAAC,OAAO,EAAE,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,UAAU,CAAC;IAE7D,2BACE,WAAW,EACT,WAAW,aAAX,WAAW,cAAX,WAAW,IACV,UAAC,MAAM,IAAK,QACX,oBAAC,SAAS,eACJ,MAAM,IACV,KAAK,EAAE,SAAS,EAChB,UAAU,EAAE,SAAS,GAAG,UAAU,GAAG,UAAU,EAC/C,KAAK,EAAE,KAAK,EACZ,MAAM,EACJ,MAAM,aAAN,MAAM,cAAN,MAAM,GACN;gBACE,eAAe,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;aACzC,IAEC,SAAS,EACb,IACH,CAAC,EACJ,QAAQ,EAAE,QAAQ,aAAR,QAAQ,cAAR,QAAQ,GAAI,YAAY,EAClC,QAAQ,EACN,QAAQ,aAAR,QAAQ,cAAR,QAAQ,GACR,UAAU,IAAI;YAGZ,eAAe,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,CAAC,CAAC;YACzC,aAAa,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC;SACvC,EACH,OAAO,EACL,OAAO,aAAP,OAAO,cAAP,OAAO,GAAI,kBAAkB,CAAC,UAAU,EAAE,KAAK,CAAC,IAAI,EAAE,aAAa,CAAC,IACnE,KAAK,GACL,KAAK,EACR;AACJ,CAAC;SAEe,UAAU,CAAC,EAAuC;IAArC,IAAA,QAAQ,cAAA,EAAK,KAAK,cAApB,YAAsB,CAAF;IAC7C,QACE,oBAAC,aAAa,eAAK,iBAAiB,CAAC,KAAK,CAAC,GAAG,QAAQ,CAAiB,EACvE;AACJ,CAAC;AAED,UAAU,CAAC,WAAW,GAAG,qBAAqB;;;;"}